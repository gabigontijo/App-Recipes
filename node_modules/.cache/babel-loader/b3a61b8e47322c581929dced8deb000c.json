{"ast":null,"code":"var _jsxFileName = \"/home/gabriela/Documents/Trybe/Projetos/sd-025-a-project-recipes-app/src/components/IngredientsProgress.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../style/IngredientsInProgress.css';\nimport { useHistory } from 'react-router-dom';\nimport { saveRecipeInProgressLocalStorage } from '../service/LocalStorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function IngredientProgress(props) {\n  _s();\n\n  const {\n    recipeType\n  } = props;\n  const history = useHistory();\n  const {\n    location: {\n      pathname\n    }\n  } = history;\n  const id = history.location.pathname.split('/')[2]; // RIP = Recipe In Progress\n\n  const [rip, setRip] = useState({\n    meals: {},\n    drinks: {}\n  });\n  useEffect(() => {\n    saveRecipeInProgressLocalStorage(rip);\n  }, [rip]);\n\n  function renderIngredients(param1) {\n    const asArray = Object.entries(recipeType);\n    const filtered = asArray.filter(_ref => {\n      let [key, value] = _ref;\n      return key.includes(param1) && value !== null && value !== '';\n    });\n    const ingredients = filtered.map(el => el[1]);\n    return ingredients;\n  }\n\n  const ingredientsName = renderIngredients('Ingredient');\n  const IngredientsQuantity = renderIngredients('Measure');\n\n  const juntaArrays = () => {\n    const newArray = [];\n\n    for (let index = 0; index < ingredientsName.length; index += 1) {\n      newArray.push(`${IngredientsQuantity[index]} ${ingredientsName[index]}`);\n    }\n\n    return newArray;\n  };\n\n  const handleCheckbox = _ref2 => {\n    let {\n      target\n    } = _ref2;\n\n    if (target.checked) {\n      target.parentElement.className = 'radio-ckecked';\n    }\n\n    if (!target.checked) {\n      target.parentElement.className = '';\n    }\n  };\n\n  const handleClickCheckbox = _ref3 => {\n    let {\n      target\n    } = _ref3;\n\n    e => {\n      const {\n        target: {\n          name\n        }\n      } = e;\n\n      if (pathname.includes('/meals')) {\n        if (!rip.meals[id]) {\n          setRip({\n            meals: {\n              [id]: [name]\n            },\n            ...rip.drinks\n          }); // saveRecipeInProgressLocalStorage(rip);\n        } else {\n          setRip({ ...rip,\n            meals: {\n              [id]: [...rip.meals[id], name]\n            }\n          }); // saveRecipeInProgressLocalStorage(rip);\n        }\n      }\n\n      if (pathname.includes('/drinks')) {\n        if (!rip.drinks[id]) {\n          setRip({\n            drinks: {\n              [id]: [name]\n            },\n            ...rip.meals\n          }); // saveRecipeInProgressLocalStorage(rip);\n        } else {\n          setRip({ ...rip,\n            drinks: {\n              [id]: [...rip.drinks[id], name]\n            }\n          }); // saveRecipeInProgressLocalStorage(rip);\n        }\n      }\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: juntaArrays().map((ingred, index) => /*#__PURE__*/_jsxDEV(\"label\", {\n      \"data-testid\": `${index}-ingredient-step`,\n      htmlFor: ingred,\n      children: [ingred, ' ', /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        name: index,\n        id: ingred,\n        onChange: handleCheckbox,\n        onClick: e => {\n          const {\n            target: {\n              name\n            }\n          } = e;\n\n          if (pathname.includes('/meals')) {\n            if (!rip.meals[id]) {\n              setRip({\n                meals: {\n                  [id]: [name]\n                },\n                ...rip.drinks\n              }); // saveRecipeInProgressLocalStorage(rip);\n            } else {\n              setRip({ ...rip,\n                meals: {\n                  [id]: [...rip.meals[id], name]\n                }\n              }); // saveRecipeInProgressLocalStorage(rip);\n            }\n          }\n\n          if (pathname.includes('/drinks')) {\n            if (!rip.drinks[id]) {\n              setRip({\n                drinks: {\n                  [id]: [name]\n                },\n                ...rip.meals\n              }); // saveRecipeInProgressLocalStorage(rip);\n            } else {\n              setRip({ ...rip,\n                drinks: {\n                  [id]: [...rip.drinks[id], name]\n                }\n              }); // saveRecipeInProgressLocalStorage(rip);\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), ' ']\n    }, ingred, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(IngredientProgress, \"1Lz6eYxF3GItSFVurZLr3o8tpz0=\", false, function () {\n  return [useHistory];\n});\n\n_c = IngredientProgress;\nIngredientProgress.propTypes = {\n  recipeType: PropTypes.shape({}).isRequired\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"IngredientProgress\");","map":{"version":3,"names":["React","useEffect","useState","PropTypes","useHistory","saveRecipeInProgressLocalStorage","IngredientProgress","props","recipeType","history","location","pathname","id","split","rip","setRip","meals","drinks","renderIngredients","param1","asArray","Object","entries","filtered","filter","key","value","includes","ingredients","map","el","ingredientsName","IngredientsQuantity","juntaArrays","newArray","index","length","push","handleCheckbox","target","checked","parentElement","className","handleClickCheckbox","e","name","ingred","propTypes","shape","isRequired"],"sources":["/home/gabriela/Documents/Trybe/Projetos/sd-025-a-project-recipes-app/src/components/IngredientsProgress.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../style/IngredientsInProgress.css';\nimport { useHistory } from 'react-router-dom';\nimport { saveRecipeInProgressLocalStorage } from '../service/LocalStorage';\n\nexport default function IngredientProgress(props) {\n  const { recipeType } = props;\n  const history = useHistory();\n  const { location: { pathname } } = history;\n  const id = history.location.pathname.split('/')[2];\n  // RIP = Recipe In Progress\n  const [rip, setRip] = useState({ meals: { }, drinks: { } });\n\n  useEffect(() => {\n    saveRecipeInProgressLocalStorage(rip);\n  }, [rip]);\n\n  function renderIngredients(param1) {\n    const asArray = Object.entries(recipeType);\n    const filtered = asArray.filter(([key, value]) => key.includes(param1)\n    && value !== null && value !== '');\n    const ingredients = filtered.map((el) => el[1]);\n    return ingredients;\n  }\n\n  const ingredientsName = renderIngredients('Ingredient');\n  const IngredientsQuantity = renderIngredients('Measure');\n\n  const juntaArrays = () => {\n    const newArray = [];\n    for (let index = 0; index < ingredientsName.length; index += 1) {\n      newArray.push(`${IngredientsQuantity[index]} ${ingredientsName[index]}`);\n    }\n    return newArray;\n  };\n\n  const handleCheckbox = ({ target }) => {\n    if (target.checked) {\n      target.parentElement.className = 'radio-ckecked';\n    }\n    if (!target.checked) {\n      target.parentElement.className = '';\n    }\n  };\n\n  const handleClickCheckbox = ({ target}) =>{\n    (e) => {\n      const { target: { name } } = e;\n      if (pathname.includes('/meals')) {\n        if (!rip.meals[id]) {\n          setRip({ meals: { [id]: [name] }, ...rip.drinks });\n          // saveRecipeInProgressLocalStorage(rip);\n        } else {\n          setRip({ ...rip,\n            meals:\n              { [id]: [...rip.meals[id], name] } });\n          // saveRecipeInProgressLocalStorage(rip);\n        }\n      } if (pathname.includes('/drinks')) {\n        if (!rip.drinks[id]) {\n          setRip({ drinks: { [id]: [name] }, ...rip.meals });\n          // saveRecipeInProgressLocalStorage(rip);\n        } else {\n          setRip({ ...rip,\n            drinks:\n              { [id]: [...rip.drinks[id], name] } });\n          // saveRecipeInProgressLocalStorage(rip);\n        }\n      }\n    }\n  }\n  return (\n    <div>\n      {juntaArrays().map((ingred, index) => (\n        <label\n          key={ ingred }\n          data-testid={ `${index}-ingredient-step` }\n          htmlFor={ ingred }\n        >\n          {ingred}\n          {' '}\n          <input\n            type=\"checkbox\"\n            name={ index }\n            id={ ingred }\n            onChange={ handleCheckbox }\n            onClick={ (e) => {\n              const { target: { name } } = e;\n              if (pathname.includes('/meals')) {\n                if (!rip.meals[id]) {\n                  setRip({ meals: { [id]: [name] }, ...rip.drinks });\n                  // saveRecipeInProgressLocalStorage(rip);\n                } else {\n                  setRip({ ...rip,\n                    meals:\n                      { [id]: [...rip.meals[id], name] } });\n                  // saveRecipeInProgressLocalStorage(rip);\n                }\n              } if (pathname.includes('/drinks')) {\n                if (!rip.drinks[id]) {\n                  setRip({ drinks: { [id]: [name] }, ...rip.meals });\n                  // saveRecipeInProgressLocalStorage(rip);\n                } else {\n                  setRip({ ...rip,\n                    drinks:\n                      { [id]: [...rip.drinks[id], name] } });\n                  // saveRecipeInProgressLocalStorage(rip);\n                }\n              }\n            } }\n          />\n          {' '}\n\n        </label>))}\n\n    </div>\n  );\n}\n\nIngredientProgress.propTypes = {\n  recipeType: PropTypes.shape({\n  }).isRequired,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}